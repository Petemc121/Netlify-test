{"ast":null,"code":"import _toConsumableArray from\"/home/peter/Documents/React/bjj-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/peter/Documents/React/bjj-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import Techniques from'./Techniques';import Categories from'./Categories';import CategoryKeys from'./CategoryKeys';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY_1='BJJNotesApp.techniques';var LOCAL_STORAGE_KEY_2='BJJNotesApp.categories';var LOCAL_STORAGE_KEY_3='BJJNotesApp.categoryKeys';export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),techniques=_useState2[0],setTechniques=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),categoryKeys=_useState6[0],setCategoryKeys=_useState6[1];var categoryRef=useRef();var techniqueRef=useRef();var techniqueNo=Math.floor(Math.random()*100000);var catNo=Math.floor(Math.random()*100000);useEffect(function(){var storedTechniques=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_1));if(storedTechniques)setTechniques(storedTechniques);},[]);useEffect(function(){var storedCategories=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_2));if(storedCategories)setCategories(storedCategories);},[]);useEffect(function(){var storedCategoryKeys=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_3));if(storedCategoryKeys)setCategoryKeys(storedCategoryKeys);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY_1,JSON.stringify(techniques));},[techniques]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY_2,JSON.stringify(categories));},[categories]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY_3,JSON.stringify(categoryKeys));},[categoryKeys]);function createLog(){var technique=techniqueRef.current.value;if(technique===\"\"){alert(\"Please enter a technique.\");return;}setTechniques(function(prevTechniques){return[].concat(_toConsumableArray(prevTechniques),[{id:techniqueNo,technique:technique,video:'',color:'rgb(21, 134, 152)',notes:[]}]);});techniqueRef.current.value=null;}function editVideo(videoLink,techniqueID){var embedVideoLink=videoLink.replace('watch?v=','embed/');if(embedVideoLink.includes('&t=')){var tIndex=embedVideoLink.indexOf('&t=');embedVideoLink=embedVideoLink.substring(0,tIndex);console.log(embedVideoLink);}setTechniques(function(techniques){var updatedTechniques=techniques.map(function(technique){if(technique.id===techniqueID){return{id:technique.id,technique:technique.technique,video:embedVideoLink,color:technique.color,notes:technique.notes};}else{return{id:technique.id,technique:technique.technique,video:technique.video,color:technique.color,notes:technique.notes};}});return updatedTechniques;});}function editCatTechVideo(videoLink,techniqueID){var embedVideoLink=videoLink.replace('watch?v=','embed/');if(embedVideoLink.includes('&t=')){var tIndex=embedVideoLink.indexOf('&t=');embedVideoLink=embedVideoLink.substring(0,tIndex);console.log(embedVideoLink);}setCategories(function(categories){return categories.map(function(category){var updatedCatTechniques=category.catTechniques.map(function(catTechnique){if(catTechnique.id===techniqueID){return{id:catTechnique.id,technique:catTechnique.technique,video:embedVideoLink,color:catTechnique.color,notes:catTechnique.notes};}else{return{id:catTechnique.id,technique:catTechnique.technique,video:catTechnique.video,color:catTechnique.color,notes:catTechnique.notes};}});return{id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques};});});}function addNote(notes,chosenTechnique){setTechniques(function(techniques){var updatedTechniques=[];techniques.forEach(function(technique){if(technique.id==chosenTechnique.id){var updatedTechnique={id:chosenTechnique.id,technique:chosenTechnique.technique,video:chosenTechnique.video,color:chosenTechnique.color,notes:notes};updatedTechniques.push(updatedTechnique);}else{updatedTechniques.push(technique);}console.log(updatedTechniques);});return updatedTechniques;});}function editNote(noteEdit,noteID,chosenTechnique){setTechniques(function(techniques){var updatedTechniques=[];techniques.forEach(function(technique){var updatedTechniqueNotes=[];if(technique.id===chosenTechnique.id){technique.notes.forEach(function(techniqueNote){if(techniqueNote.noteID===noteID){updatedTechniqueNotes.push({noteText:noteEdit,noteID:noteID,noteTitle:\"Note \"+noteID});}else{updatedTechniqueNotes.push({noteText:techniqueNote.noteText,noteID:techniqueNote.noteID,noteTitle:\"Note \"+techniqueNote.noteID});}});updatedTechniques.push({id:technique.id,technique:technique.technique,video:technique.video,color:technique.color,notes:updatedTechniqueNotes});}else{updatedTechniques.push({id:technique.id,technique:technique.technique,video:technique.video,color:technique.color,notes:technique.notes});}});return updatedTechniques;});}function handleCreateCategory(){// GREEN PURPLE BLUE BROWN RED YELLOW ORANGE BROWN GREY WHITE\nvar colorArray=[\"#F94144\",\"#F3722C\",\"#F8961E\",\"#F9C74F\",\"#90BE6D\",\"#43AA8B\",\"#577590\",\"#541388\"];var category=categoryRef.current.value;if(category===\"\"){alert(\"Please enter a category.\");return;}if(categories.length>7){alert(\"You've reached your category limit!\");return;}setCategories(function(prevCategories){return[].concat(_toConsumableArray(prevCategories),[{id:catNo,category:category,color:colorArray[categories.length],catTechniques:[]}]);});setCategoryKeys(function(prevCategoryKeys){return[].concat(_toConsumableArray(prevCategoryKeys),[{id:catNo,category:category,color:colorArray[categories.length],catKeyTechniques:[]}]);});categoryRef.current.value=null;}var handleDeleteTechnique=function handleDeleteTechnique(techniqueID){setTechniques(function(techniques){return techniques.filter(function(technique){return technique.id!==techniqueID;});});};var handleDeleteCategory=function handleDeleteCategory(categoryID){setCategories(function(categories){return categories.filter(function(category){return category.id!==categoryID;});});setCategoryKeys(function(categoryKeys){return categoryKeys.filter(function(categoryKey){return categoryKey.id!==categoryID;});});};function handleDeleteNote(noteID,techniqueID){setTechniques(function(techniques){return techniques.map(function(technique){if(technique.id===techniqueID){var newNotes=technique.notes.filter(function(note){return note.noteID!=noteID;});return{id:technique.id,technique:technique.technique,video:technique.video,color:technique.color,notes:newNotes};}else{return{id:technique.id,technique:technique.technique,video:technique.video,color:technique.color,notes:technique.notes};}});});}var handleDeleteCatTechnique=function handleDeleteCatTechnique(techniqueID,categoryID){setCategories(function(categories){var updatedCategories=[];categories.forEach(function(category){if(category.id===categoryID){var updatedCatTechniques=category.catTechniques.filter(function(catTechnique){return catTechnique.id!==techniqueID;});updatedCategories.push({id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques});}else{updatedCategories.push(category);}});return updatedCategories;});};function handleAddCatTechNote(newNotes,chosenCatTechnique){setCategories(function(categories){var updatedCategories=[];categories.forEach(function(category){var updatedCatTechniques=[];category.catTechniques.forEach(function(catTechnique){if(catTechnique.id==chosenCatTechnique.id){var updatedTechnique={id:chosenCatTechnique.id,technique:chosenCatTechnique.technique,video:chosenCatTechnique.video,color:chosenCatTechnique.color,notes:newNotes};updatedCatTechniques.push(updatedTechnique);}else{updatedCatTechniques.push(catTechnique);}});updatedCategories.push({id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques});});return updatedCategories;});}function handleDeleteCatTechNote(noteID,techniqueID){setCategories(function(categories){var updatedCategories=categories.map(function(category){var updatedCatTechniques=[];category.catTechniques.forEach(function(catTechnique){if(catTechnique.id===techniqueID){var newNotes=catTechnique.notes.filter(function(note){return note.noteID!=noteID;});updatedCatTechniques.push({id:catTechnique.id,technique:catTechnique.technique,video:catTechnique.video,color:catTechnique.color,notes:newNotes});console.log('same');}else{updatedCatTechniques.push({id:catTechnique.id,technique:catTechnique.technique,video:catTechnique.video,color:catTechnique.color,notes:catTechnique.notes});}});return{id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques};});return updatedCategories;});}function handleEditCatTechNote(noteEdit,noteID,chosenCatTechnique){setCategories(function(categories){var updatedCategories=categories.map(function(category){var updatedCatTechniques=[];category.catTechniques.forEach(function(catTechnique){var updatedCatTechniqueNotes=[];if(catTechnique.id===chosenCatTechnique.id){catTechnique.notes.forEach(function(catTechniqueNote){if(catTechniqueNote.noteID===noteID){updatedCatTechniqueNotes.push({noteText:noteEdit,noteID:noteID,noteTitle:\"Note \"+noteID});}else{updatedCatTechniqueNotes.push({noteText:catTechniqueNote.noteText,noteID:catTechniqueNote.noteID,noteTitle:\"Note \"+catTechniqueNote.noteID});}});updatedCatTechniques.push({id:catTechnique.id,technique:catTechnique.technique,video:catTechnique.video,color:catTechnique.color,notes:updatedCatTechniqueNotes});}else{updatedCatTechniques.push({id:catTechnique.id,technique:catTechnique.technique,video:catTechnique.video,color:catTechnique.color,notes:catTechnique.notes});}});return{id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques};});return updatedCategories;});}var handleDrop=function handleDrop(e,chosenCategory){var draggable=document.querySelector('.dragging');e.target.style.filter=\"brightness(100%)\";techniques.forEach(function(technique){if(draggable.id===technique.id.toString()){var oldColor=chosenCategory.color;var newColor=LightenDarkenColor(oldColor,-40);setCategories(function(categories){var updatedCategories=categories.map(function(category){if(chosenCategory.id==category.id){console.log(technique.video);var updatedCatTechniques=[].concat(_toConsumableArray(category.catTechniques),[{id:technique.id,technique:technique.technique,video:technique.video,color:newColor,notes:technique.notes}]);return{id:category.id,category:category.category,color:category.color,catTechniques:updatedCatTechniques};}else{return category;}});return updatedCategories;});handleDeleteTechnique(technique.id);}});};function LightenDarkenColor(col,amt){var usePound=false;if(col[0]==\"#\"){col=col.slice(1);usePound=true;}var num=parseInt(col,16);var r=(num>>16)+amt;if(r>255)r=255;else if(r<0)r=0;var b=(num>>8&0x00FF)+amt;if(b>255)b=255;else if(b<0)b=0;var g=(num&0x0000FF)+amt;if(g>255)g=255;else if(g<0)g=0;return(usePound?\"#\":\"\")+(g|b<<8|r<<16).toString(16);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"mainHeader\",class:\"header\",children:\"BJJ NOTES\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"description\",class:\"header\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Add your techniques below. You can also add categories if you scroll down further (Instructionals, positions etc).\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop techniques into catgeories/category shortcuts to categorize them.\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"techniqueSection\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"inContain\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"titles\",children:\"Techniques\"}),/*#__PURE__*/_jsx(\"label\",{for:\"technique\",children:\"Technique\"}),/*#__PURE__*/_jsx(\"input\",{ref:techniqueRef,id:\"techniqueIn\",class:\"input titleIn\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createLog,id:\"addTechnique\",class:\"input\",children:\"Add Technique\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"techniqueContain\",children:/*#__PURE__*/_jsx(Techniques,{handleDeleteTechnique:handleDeleteTechnique,handleDeleteNote:handleDeleteNote,editVideo:editVideo,editNote:editNote,addNote:addNote,techniques:techniques})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"categorySection\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"center\",children:/*#__PURE__*/_jsx(\"h1\",{class:\"titles\",children:\"Categories\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"center\",children:/*#__PURE__*/_jsx(\"h1\",{id:\"categoryKeysTitle\",children:\"Category Shortcuts\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"center\",children:/*#__PURE__*/_jsx(CategoryKeys,{handleDrop:handleDrop,categoryKeys:categoryKeys})}),/*#__PURE__*/_jsxs(\"div\",{class:\"inContain\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"instructional\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{ref:categoryRef,id:\"categoryIn\",class:\"input titleIn\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateCategory,id:\"addCategory\",class:\"input\",children:\"Add Category\"})]}),/*#__PURE__*/_jsx(Categories,{handleDrop:handleDrop,handleDeleteCatTechNote:handleDeleteCatTechNote,handleAddCatTechNote:handleAddCatTechNote,editCatTechVideo:editCatTechVideo,handleEditCatTechNote:handleEditCatTechNote,handleDeleteCategory:handleDeleteCategory,techniques:techniques,handleDeleteCatTechnique:handleDeleteCatTechnique,handleDeleteTechnique:handleDeleteTechnique,categories:categories})]})]});}","map":{"version":3,"sources":["/home/peter/Documents/React/bjj-notes/src/App.js"],"names":["React","useEffect","useState","useRef","Techniques","Categories","CategoryKeys","LOCAL_STORAGE_KEY_1","LOCAL_STORAGE_KEY_2","LOCAL_STORAGE_KEY_3","App","techniques","setTechniques","categories","setCategories","categoryKeys","setCategoryKeys","categoryRef","techniqueRef","techniqueNo","Math","floor","random","catNo","storedTechniques","JSON","parse","localStorage","getItem","storedCategories","storedCategoryKeys","setItem","stringify","createLog","technique","current","value","alert","prevTechniques","id","video","color","notes","editVideo","videoLink","techniqueID","embedVideoLink","replace","includes","tIndex","indexOf","substring","console","log","updatedTechniques","map","editCatTechVideo","category","updatedCatTechniques","catTechniques","catTechnique","addNote","chosenTechnique","forEach","updatedTechnique","push","editNote","noteEdit","noteID","updatedTechniqueNotes","techniqueNote","noteText","noteTitle","handleCreateCategory","colorArray","length","prevCategories","prevCategoryKeys","catKeyTechniques","handleDeleteTechnique","filter","handleDeleteCategory","categoryID","categoryKey","handleDeleteNote","newNotes","note","handleDeleteCatTechnique","updatedCategories","handleAddCatTechNote","chosenCatTechnique","handleDeleteCatTechNote","handleEditCatTechNote","updatedCatTechniqueNotes","catTechniqueNote","handleDrop","e","chosenCategory","draggable","document","querySelector","target","style","toString","oldColor","newColor","LightenDarkenColor","col","amt","usePound","slice","num","parseInt","r","b","g"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef } from 'react';\nimport Techniques from './Techniques';\nimport Categories from './Categories';\nimport CategoryKeys from './CategoryKeys';\n\nconst LOCAL_STORAGE_KEY_1 = 'BJJNotesApp.techniques'\nconst LOCAL_STORAGE_KEY_2 = 'BJJNotesApp.categories'\nconst LOCAL_STORAGE_KEY_3 = 'BJJNotesApp.categoryKeys'\n\nexport default function App() {\n   const [techniques, setTechniques] = useState([]);\n   const [categories, setCategories] = useState([]);\n   const [categoryKeys, setCategoryKeys] = useState([]);\n   const categoryRef = useRef();\n   const techniqueRef = useRef();\n   let techniqueNo = Math.floor(Math.random()*100000);\n   let catNo = Math.floor(Math.random()*100000);\n\n\nuseEffect(() => {\n    const storedTechniques = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_1))\n    if (storedTechniques) setTechniques(storedTechniques)\n}, [])\n\nuseEffect(() => {\n    const storedCategories = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_2))\n    if (storedCategories) setCategories(storedCategories)\n}, [])\n\nuseEffect(() => {\n    const storedCategoryKeys = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_3))\n    if (storedCategoryKeys) setCategoryKeys(storedCategoryKeys)\n}, [])\n\nuseEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY_1, JSON.stringify(techniques))\n}, [techniques])\n\nuseEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY_2, JSON.stringify(categories))\n}, [categories])\n\nuseEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY_3, JSON.stringify(categoryKeys))\n}, [categoryKeys])\n\n\n   \n   function createLog() {\n       const technique = techniqueRef.current.value;\n\n       if(technique === \"\")\n       { alert(\"Please enter a technique.\") \n       return;\n        }\n        \n       setTechniques(prevTechniques => {\n      \n           return [...prevTechniques, {id: techniqueNo, technique:technique, video:'', color:'rgb(21, 134, 152)', notes:[]}];\n\n       });\n\n  \n       techniqueRef.current.value = null;\n    }\n\n    function editVideo(videoLink, techniqueID) {\n       let embedVideoLink = videoLink.replace('watch?v=','embed/')\n\n       if (embedVideoLink.includes('&t='))\n       {\n           const tIndex = embedVideoLink.indexOf('&t=')\n           embedVideoLink = embedVideoLink.substring(0,tIndex);\n           console.log(embedVideoLink)\n       }\n\n       setTechniques(techniques => {\n        const updatedTechniques =  techniques.map(technique =>\n            {\n                if (technique.id === techniqueID)\n                {\n                   return {id: technique.id, technique:technique.technique, video:embedVideoLink, color:technique.color, notes:technique.notes}     \n                }\n                else{\n                    return {id: technique.id, technique:technique.technique, video:technique.video, color:technique.color, notes:technique.notes}  \n                }\n            })\n\n            return updatedTechniques;\n       })\n    }\n\n    function editCatTechVideo(videoLink, techniqueID) {\n        let embedVideoLink = videoLink.replace('watch?v=','embed/')\n \n        if (embedVideoLink.includes('&t='))\n        {\n            const tIndex = embedVideoLink.indexOf('&t=')\n            embedVideoLink = embedVideoLink.substring(0,tIndex);\n            console.log(embedVideoLink)\n        }\n \n        setCategories(categories => {\n\n      return  categories.map(category => \n                {\n        const updatedCatTechniques = category.catTechniques.map(catTechnique => {\n                 if (catTechnique.id === techniqueID)\n                 {\n                    return {id: catTechnique.id, technique:catTechnique.technique, video:embedVideoLink, color:catTechnique.color, notes:catTechnique.notes}     \n                 }\n                 else \n                 {\n                     return {id: catTechnique.id, technique:catTechnique.technique, video:catTechnique.video, color:catTechnique.color, notes:catTechnique.notes}  \n                 }\n             })\n\n            return {id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques }\n        })\n\n     })\n    }\n\n   \n\n    function addNote(notes, chosenTechnique) {\n        setTechniques(techniques => {\n          let  updatedTechniques = [];\n            techniques.forEach(technique => {\n                if (technique.id == chosenTechnique.id)\n                {\n                let updatedTechnique = {id: chosenTechnique.id, technique: chosenTechnique.technique, video:chosenTechnique.video, color: chosenTechnique.color, notes: notes}\n\n                updatedTechniques.push(updatedTechnique)\n                } else{\n                    \n                    updatedTechniques.push(technique)\n                }\n            \n             console.log(updatedTechniques)\n            })\n            \n            return updatedTechniques;\n        });\n        \n    }\n\n    function editNote(noteEdit, noteID, chosenTechnique) {\n        setTechniques(techniques => {\n            let updatedTechniques = [];\n            \n            techniques.forEach(technique => {\n                let updatedTechniqueNotes = [];\n                if (technique.id === chosenTechnique.id)\n                 {\n\n                    technique.notes.forEach(techniqueNote => {\n                        if (techniqueNote.noteID === noteID)\n                        { \n                            updatedTechniqueNotes.push({noteText:noteEdit, noteID:noteID, noteTitle:\"Note \" + (noteID)})\n                        } else\n                        {\n\n                            updatedTechniqueNotes.push({noteText:techniqueNote.noteText, noteID:techniqueNote.noteID, noteTitle:\"Note \" + (techniqueNote.noteID)})\n                        }\n                    })\n                    updatedTechniques.push({id: technique.id, technique: technique.technique, video:technique.video, color: technique.color, notes: updatedTechniqueNotes})\n\n\n                  } else\n                  {\n                    updatedTechniques.push({id: technique.id, technique: technique.technique, video:technique.video, color: technique.color, notes:technique.notes})\n                  }\n\n\n                })\n\n                return updatedTechniques;\n            })\n\n        }\n\n\n    \n\n    function handleCreateCategory()\n    {\n\n        // GREEN PURPLE BLUE BROWN RED YELLOW ORANGE BROWN GREY WHITE\n        const colorArray = [\"#F94144\",\"#F3722C\",\"#F8961E\",\"#F9C74F\", \"#90BE6D\", \"#43AA8B\", \"#577590\", \"#541388\"]\n        const category = categoryRef.current.value;\n\n        if(category === \"\")\n        { alert(\"Please enter a category.\") \n        return;\n         }\n\n         if(categories.length > 7)\n         {\n             alert(\"You've reached your category limit!\")\n             return\n         }\n\n         setCategories(prevCategories => {\n             return [...prevCategories, {id:catNo, category:category, color:colorArray[categories.length], catTechniques:[] }]\n         })\n\n         setCategoryKeys(prevCategoryKeys => {\n            return [...prevCategoryKeys, {id:catNo, category:category, color:colorArray[categories.length], catKeyTechniques:[] }]\n         })\n\n         categoryRef.current.value = null;\n\n    }\n\n   \n\n    \n   const handleDeleteTechnique = (techniqueID) => {\n    setTechniques(techniques => {return techniques.filter(technique => technique.id !== techniqueID)}) \n}\n\nconst handleDeleteCategory = (categoryID) =>\n{\n    setCategories(categories => {return categories.filter(category => category.id !== categoryID)})\n    setCategoryKeys(categoryKeys => {return categoryKeys.filter(categoryKey => categoryKey.id !== categoryID)})\n}\n\n\n\n    function handleDeleteNote(noteID, techniqueID)\n    {\n        setTechniques(techniques => {\n           return techniques.map(technique =>\n                {\n                    \n                    if (technique.id === techniqueID)\n                    {\n                       const newNotes = technique.notes.filter(note => note.noteID != noteID);\n\n                       return {id: technique.id, technique: technique.technique, video:technique.video, color: technique.color, notes: newNotes}\n\n                    } else\n                    {\n                        return {id: technique.id, technique: technique.technique, video:technique.video, color: technique.color, notes: technique.notes}\n                    }\n\n                    \n                })\n        })\n    }\n\n    \n    const handleDeleteCatTechnique = (techniqueID, categoryID) => {\n        setCategories(categories => {\n           let updatedCategories = []\n          categories.forEach(category => {\n                if (category.id === categoryID)\n                {\n                    const updatedCatTechniques = category.catTechniques.filter(catTechnique => catTechnique.id !== techniqueID)\n         updatedCategories.push( {id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques })\n                } else{\n                    updatedCategories.push(category)\n                }\n            })\n\n            return updatedCategories;\n        })\n        \n    }\n    \n \n\n\nfunction handleAddCatTechNote(newNotes, chosenCatTechnique) {\n    setCategories(categories => {\n      let  updatedCategories = [];\n        categories.forEach(category => {\n            let updatedCatTechniques = [];\n            category.catTechniques.forEach(catTechnique =>\n                {\n            if (catTechnique.id == chosenCatTechnique.id)\n            {\n            let updatedTechnique = {id: chosenCatTechnique.id, technique: chosenCatTechnique.technique, video:chosenCatTechnique.video, color: chosenCatTechnique.color, notes: newNotes}\n\n            updatedCatTechniques.push(updatedTechnique)\n            } else{\n                \n                updatedCatTechniques.push(catTechnique)\n            }\n        \n        \n        })\n        updatedCategories.push({ id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques })\n        })\n        \n        return updatedCategories;\n    });\n    \n}\n\nfunction handleDeleteCatTechNote(noteID, techniqueID)\n{\n    setCategories(categories => {\n\n     const updatedCategories = categories.map(category =>\n            {\n       let updatedCatTechniques = []\n         category.catTechniques.forEach(catTechnique =>\n            {\n                \n                if (catTechnique.id === techniqueID)\n                {\n                   const newNotes = catTechnique.notes.filter(note => note.noteID != noteID);\n\n                   updatedCatTechniques.push({id: catTechnique.id, technique: catTechnique.technique, video:catTechnique.video, color: catTechnique.color, notes: newNotes});\n                    console.log('same')\n\n                } else\n                {\n                    updatedCatTechniques.push({id: catTechnique.id, technique: catTechnique.technique, video:catTechnique.video, color: catTechnique.color, notes: catTechnique.notes});\n                }\n\n                \n            })\n\n            return {id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques }\n    })\n    return updatedCategories\n})\n}\n\nfunction handleEditCatTechNote(noteEdit, noteID, chosenCatTechnique) {\n    setCategories(categories => {\n       \n       const updatedCategories = categories.map(category =>\n            {\n        let updatedCatTechniques = [];\n        \n        category.catTechniques.forEach(catTechnique => {\n            let updatedCatTechniqueNotes = [];\n            if (catTechnique.id === chosenCatTechnique.id)\n             {\n                \n                catTechnique.notes.forEach(catTechniqueNote => {\n                    if (catTechniqueNote.noteID === noteID)\n                    { \n                        \n                        updatedCatTechniqueNotes.push({noteText:noteEdit, noteID:noteID, noteTitle:\"Note \" + (noteID)})\n                    } else{\n\n                        updatedCatTechniqueNotes.push({noteText:catTechniqueNote.noteText, noteID:catTechniqueNote.noteID, noteTitle:\"Note \" + (catTechniqueNote.noteID)})\n                    }\n                })\n                updatedCatTechniques.push({id: catTechnique.id, technique: catTechnique.technique, video:catTechnique.video, color: catTechnique.color, notes: updatedCatTechniqueNotes})\n\n\n              } else\n              {\n                updatedCatTechniques.push({id: catTechnique.id, technique: catTechnique.technique, video:catTechnique.video, color: catTechnique.color, notes:catTechnique.notes})\n              }\n\n\n            })\n\n            return {id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques };\n        })\n        return updatedCategories;\n    })\n}\n\nconst handleDrop = (e, chosenCategory) =>\n{\n \n  const draggable = document.querySelector('.dragging');\n  e.target.style.filter = \"brightness(100%)\";\n  techniques.forEach(technique => {\n\n        if (draggable.id === technique.id.toString())\n        {\n           const oldColor = chosenCategory.color;\n           \n            \n       const newColor = LightenDarkenColor(oldColor, -40);\n        \n        setCategories(categories => {\n\n\n         const updatedCategories = categories.map(category => {\n          \n               if (chosenCategory.id == category.id)\n               {\n\n                console.log(technique.video);\n               const updatedCatTechniques = [...category.catTechniques, {id: technique.id, technique: technique.technique, video:technique.video, color: newColor, notes: technique.notes} ]\n               return  {id:category.id, category:category.category, color:category.color, catTechniques:updatedCatTechniques }\n               }\n               else{\n                   return category\n               }\n\n               })\n\n               return updatedCategories;\n               })\n               handleDeleteTechnique(technique.id);\n        }\n\n        \n    })\n   \n    \n}\n\n    function LightenDarkenColor(col, amt) {\n  \n        var usePound = false;\n      \n        if (col[0] == \"#\") {\n            col = col.slice(1);\n            usePound = true;\n        }\n     \n        var num = parseInt(col,16);\n     \n        var r = (num >> 16) + amt;\n     \n        if (r > 255) r = 255;\n        else if  (r < 0) r = 0;\n     \n        var b = ((num >> 8) & 0x00FF) + amt;\n     \n        if (b > 255) b = 255;\n        else if  (b < 0) b = 0;\n     \n        var g = (num & 0x0000FF) + amt;\n     \n        if (g > 255) g = 255;\n        else if (g < 0) g = 0;\n     \n        return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n      \n    }\n\n\n\n    return (\n        <>\n        <div id=\"mainHeader\" class=\"header\">BJJ NOTES</div>\n        <div id=\"description\" class=\"header\">\n            <p>Add your techniques below. You can also add categories if you scroll down further (Instructionals, positions etc).</p>\n            <p>Drag and drop techniques into catgeories/category shortcuts to categorize them.</p>\n        </div>\n       \n        <div id=\"techniqueSection\">\n        <div class=\"inContain\">\n            <h1 class=\"titles\">Techniques</h1>\n        <label for=\"technique\">Technique</label>    \n        <input ref={techniqueRef} id=\"techniqueIn\" class=\"input titleIn\" type=\"text\"></input>\n        <button onClick={createLog} id=\"addTechnique\" class=\"input\">Add Technique</button>\n        </div>\n        <div id=\"techniqueContain\">\n        <Techniques handleDeleteTechnique={handleDeleteTechnique} handleDeleteNote={handleDeleteNote} editVideo={editVideo}  editNote={editNote} addNote={addNote} techniques={ techniques } />\n        </div>\n        </div>\n        <div id=\"categorySection\">\n            <div class=\"center\">\n        <h1 class=\"titles\">Categories</h1>\n        </div>\n        <div class=\"center\">\n        <h1 id=\"categoryKeysTitle\" >Category Shortcuts</h1>\n        </div>\n        <div class=\"center\">\n        <CategoryKeys handleDrop={handleDrop} categoryKeys={categoryKeys} />\n        </div>\n        <div  class=\"inContain\">\n        <label for=\"instructional\">Category</label>    \n        <input ref={categoryRef} id=\"categoryIn\" class=\"input titleIn\" type=\"text\"></input>\n        <button onClick={handleCreateCategory} id=\"addCategory\" class=\"input\">Add Category</button>\n        </div>\n        <Categories handleDrop={handleDrop} handleDeleteCatTechNote={handleDeleteCatTechNote} handleAddCatTechNote={handleAddCatTechNote} editCatTechVideo={editCatTechVideo} handleEditCatTechNote={handleEditCatTechNote} handleDeleteCategory={handleDeleteCategory} techniques={techniques} handleDeleteCatTechnique={handleDeleteCatTechnique} handleDeleteTechnique={handleDeleteTechnique} categories={categories}/>\n        </div>\n        </>\n    )\n    \n}\n\n\n"]},"metadata":{},"sourceType":"module"}